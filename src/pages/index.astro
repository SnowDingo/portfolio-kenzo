---
import { getCollection } from 'astro:content';
import Welcome from '../components/Welcome.astro';
import Layout from '../layouts/Layout.astro';
import Card from "../components/Card"
import Image from 'astro/components/Image.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

const allworks = await getCollection('works');

allworks.sort((a,b) => {
  return new Date(b.data.year).getTime() - new Date(a.data.year).getTime();
})
---

<Layout>
	<Welcome />
	<div class="mt-12 mx-12 md:ml-20">
		<h2>Projects I've worked on...</h2>
		<div class=" flex flex-row  flex-wrap gap-10 my-4">
		{allworks.map((work) => (
			<div class="text-center">
				<a class="text-center" href={`/works/` + work.data.title.toLowerCase()}><Image class={"rounded-md hover:shadow-lg transition-shadow ease-in-out duration-200 max-h-56"} src={`/Work/` + work.data.imglink} alt={work.data.title} width={384} height={216} /></a>
				<a class="text-center" href={`/works/` + work.data.title.toLowerCase()}>{work.data.title}</a>
			</div>
		))}
		</div>
	</div>
</Layout>
